#!/usr/bin/env node
"use strict";var b=Object.create;var a=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var j=(o,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of x(e))!v.call(o,l)&&l!==s&&a(o,l,{get:()=>e[l],enumerable:!(r=h(e,l))||r.enumerable});return o};var t=(o,e,s)=>(s=o!=null?b(F(o)):{},j(e||!o||!o.__esModule?a(s,"default",{value:o,enumerable:!0}):s,o));var f=t(require("fs")),c=t(require("path")),u=require("process"),g=t(require("esbuild")),y="output.js",n=c.default.join(__dirname,`../files/${y}`);console.log("Output file:",n);var[p,i]=(()=>{let o=[],e={};return u.argv.forEach(s=>{if(s.match(/^(-|--)+/)){s=s.replace(/(-|--)+/g,"");let r=s.split("=");e[r[0]]=r[1]?r[1]:!0}else o.push(s)}),[o,e]})();(i.d||i.debug)&&console.log("argv:",u.argv,"Args:",p,`
`,"Flags:",i);var[,,d]=p;d||(console.error("No file to run specified."),process.exit(1));var m=c.default.resolve(d);f.default.existsSync(m)||(console.error("File does not exist."),process.exit(1));g.build({entryPoints:[m],outfile:n,bundle:!0,platform:"node",target:"node14",sourcemap:"linked",format:"cjs"}).then(()=>{console.log("File built successfully."),require("source-map-support").install(),require(n)}).catch(o=>{console.error("Failed to build file:",o),process.exit(1)});
